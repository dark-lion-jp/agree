# プロジェクト概要

法的効力を持たない、あくまで当事者間の意思確認補助を目的とした「性的同意確認」の SPA を作成する。
プライバシーを最優先し、サーバーサイドでのデータ保存は一切行わない。

# 技術スタック

- **Framework:** Next.js (App Router)
- **UI Library:** Hero UI (NextUI), Tailwind CSS
- **Icons/Packages:** lucide-react (アイコン), qrcode.react (QR 生成), jsQR (QR 読み取り), jspdf (PDF 生成), next-pwa
- **Formatter:** Prettier, ESLint (perfectionist)
- **Deploy:** Firebase Hosting（`public` ディレクトリを使用）

# 機能要件

## 1. 入力フォームタブ (メイン)

- **日時:** `new Date()` を使用し、秒単位でリアルタイム更新（編集不可、readonly）。
- **氏名入力:** 氏名 1、氏名 2 のテキストフィールド。
- **意思確認チェックリスト:**
  以下の 5 問を設置。選択肢は「はい(問題あり)」「いいえ(問題なし)」。
  ※ デフォルトは未選択状態とすること。
  1. **自由な意思:** 暴力・脅迫・恐怖による強制ではないか？
  2. **判断能力:** アルコール・薬物・眠気・意識混濁はないか？
  3. **関係性の対等性:** 地位利用・報復の恐怖による同意ではないか？
  4. **判断の猶予:** 不意打ちで動転していないか？
  5. **撤回権の理解:** いつでも同意撤回可能であることを理解しているか？
- **ロジック:** 5 問すべてで「いいえ（問題なし）」が選択された場合のみ、PDF 出力ボタンを有効化する。1 つでも「はい」がある場合は警告を表示。
- **詳細項目追加:** - ユーザーが任意の「プレイ内容」「条件（コンドーム有無など）」を追加できる。
  - リスト形式で表示し、削除可能にする。
- **PDF 出力ボタン:** クライアントサイドで PDF を生成しダウンロード。

## 2. QR コードタブ (共有)

- **生成:** 現在入力されている「氏名」「詳細項目」を JSON 化し QR コード表示。
- **読取:** カメラ起動または画像選択により QR を読み取り、フォームに反映する。

## 3. ガイドタブ

- コンビニ（セブン、ファミマ、ローソン）でのネットワークプリント方法の解説リンクや手順を記載。

# デザイン・UX 要件

- **PWA 対応:** `manifest.json` を適切に設定し、スマホのホーム画面に追加可能にする（アイコンは適当な SVG を作成）。
- **レスポンシブ:** モバイルファーストで設計。Hero UI のコンポーネントを活用し、清潔感のあるデザインにする。
- **フッター:**
  - 「サービス概要」へのリンク（モーダルで表示）
  - 「プライバシーポリシー」へのリンク（モーダルで表示）
  - 「データは端末内にのみ保存されます」と明記

# 重要：免責事項の実装

アプリのトップ、または PDF 生成データ内に以下の文言を含めること。
「本アプリは意思確認の補助ツールであり、法的拘束力はありません。脅迫・強要・泥酔状態での同意は無効です。同意はいつでも撤回可能です。」
